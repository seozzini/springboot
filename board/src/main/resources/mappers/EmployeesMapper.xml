<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.insa.mapper.EmployeesMapper">

<!-- insert: 등록 -->
<insert id="insert" parameterType="employeesDTO">
  INSERT INTO employees (
							employee_id,
					        first_name,
					        last_name,
					        email,
					        phone_number,
					        hire_date,
					        job_id

                        )
       VALUES (
				#{employeeId},
		        #{firstName},
		        #{lastName},
		        #{email},
		        #{phoneNumber},
		        #{hireDate},
		        #{jobId}
               )
</insert>

<!-- 단건조회 -->
<select id="read" parameterType="Long" resultType="employeesDTO">
SELECT employee_id,
        first_name,
        last_name,
        email,
        phone_number,
        hire_date,
        job_id,
        salary,
        commission_pct,
        manager_id,
        department_id
FROM employees
WHERE employee_id = #{employeeId}
</select>

<!-- getList : 전체조회 -->
<select id="getList">
SELECT ROWNUM RN, employee_id, first_name, last_name, email,
       phone_number,hire_date, job_id, salary,commission_pct,
	   manager_id,department_id
FROM(
	SELECT  employee_id,
	        first_name,
	        last_name,
	        email,
	        phone_number,
	        hire_date,
	        job_id,
	        salary,
	        commission_pct,
	        manager_id,
	        department_id
	FROM employees
	 <![CDATA[
	 WHERE ROWNUM <= #{end}
	 ]]>

	  <include refid="criteria"></include>
	
) WHERE RN >= #{start}
</select>

</mapper>